<%- include('../partials/header.ejs') %>

<style>
    .container{
        padding: 2em;
    }

    .form-group {
        margin-bottom: 1em;
    }

    .form-group label {
        margin-bottom: 0.2em;
    }
</style>

<div class="container">
    <h2>Upload a file</h2>

    <% if (message != '') { %>
        <div id="upload-message">
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <p class="text-center text-danger"><%= message %></p>
                <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button> -->
            </div>
        </div>
        
    <% } %>

    <!-- Error messages:  -->
    <!-- if msg undefined -->
    <%= typeof msg != 'undefined' ? msg : '' %>

    <form method="POST" action="/upload" enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" name="title" class="form-control" placeholder="Title">
        </div>
    
        <div class="form-group">
            <label for="file">Upload a file</label>
            <input type="file" name="media" class="form-control" >
        </div>

        <button type="submit" class="btn btn-primary">Upload</button>
    
    </form>
    
    <br>
    <a href="/" class="btn btn-danger">Cancel</a>
</div>

<script>
    const uploadMessage = document.getElementById("upload-message");
    setTimeout(function(){uploadMessage.style.display = 'none'}, 4000);
  </script>